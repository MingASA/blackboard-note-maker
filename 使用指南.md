# 📚 板书知识整理助手 - 本地部署使用指南

## 🌟 Dify 控制台操作流程

### 1️⃣ 应用导入（首次部署）
```markdown
1. 登录本地 Dify 控制台: http://localhost:80
2. 进入【工作区】>【工作流】
3. 点击右上角"导入YAML"按钮
4. 上传提供的 `test.yml` 配置文件
5. 确认导入完成后刷新页面
```

### 2️⃣ 模型提供商配置
```markdown
1. 左侧菜单选择【设置】>【模型供应商】
2. 启用以下供应商（配置如下）：
```

| 供应商名称 | API 密钥 | 必需模型 |
|------------|----------|----------|
| **DeepSeek** | 您的API密钥 | DeepSeek-V3 |
| **硅流(SiliconFlow)** | 您的API密钥 | Qwen2.5-VL-72B<br>SenseVoiceSmall |

### 3️⃣ 文件上传配置
```markdown
1. 进入【应用配置】>【文件上传】
2. 启用文件上传功能
3. 设置参数：
   - 允许的文件类型: 图片 (.JPG, .JPEG, .PNG, .GIF, .WEBP, .SVG)
   - 最大图片尺寸: 10MB
   - 工作流最大文件数: 10个
```

## 🖥️ 网页端使用流程

### 1️⃣ 访问测试页面
在浏览器打开测试地址：
```
https://cloud.dify.ai/apps
```

### 2️⃣ 输入配置参数
```markdown
1. **笔记生成要求** (文本输入区)
   - 示例内容："请整理量子力学基本概念，包含波动方程和不连续性原理等"
 
2. **文件上传区** (四类输入源)：
 
   | 输入类型 | 操作方式 |
   |----------|----------|
   | 图片集 | 拖放板书照片文件或点击上传 |
   | 音频 | 添加讲座录音文件 (支持MP3,WAV) |
   | 文档 | 上传教材/讲义PDF、DOCX文件 |
   | 需要整合的笔记 | 添加现有Markdown笔记文件 |
```

### 3️⃣ 运行工作流
```markdown
1. 点击右下角【运行工作流】按钮
2. 查看实时处理流程：
   - 图像识别进度
   - 语音转写状态
   - 内容整合步骤
   - Markdown格式验证结果
```

## 📂 文件处理规范

### 输入要求
```markdown
| 输入类型 | 建议格式 | 处理限制 |
|----------|----------|----------|
| 板书图片 | 清晰拍摄的.jpg/.png | 单张≤10MB, ≤2048像素宽 |
| 音频文件 | 48kHz采样率, 单声道 | ≤15分钟, 环境噪音<30dB |
| 文档文件 | PDF/DOCX标准排版 | 内容长度≤5万字符 |
| 现有笔记 | Markdown格式 | 需包含标题结构 |
```

### 输出规范
```json
{
  "output": {
    "format": "标准Markdown",
    "features": [
      "带目录结构",
      "公式自动添加空格隔离",
      "关键术语加粗",
      "重要知识点引用框",
      "多级标题编号"
    ]
  }
}
```

## 🔍 常见操作案例

### 案例1：板书图片整理
```markdown
1. 在"图片集"区域上传黑板书照片
2. "笔记生成要求"输入："提取电磁学公式和定义"
3. 不需要填写其他文件区域
4. 点击【运行】
```

### 案例2：课堂录音整理
```markdown
1. 在"音频"区域上传讲座录音
2. "笔记生成要求"输入："整理微分方程求解步骤"
3. 在"需要整合的笔记"添加之前的数学笔记.md
4. 点击【运行】
```

## 🛠️ 调试工具使用

### 节点检查工具
```markdown
1. 工作流编辑界面中选择节点：
   - 图片识别节点(1750580906450)
   - 文档提取节点(1750649025397)
2. 使用【测试节点】功能
3. 查看原始识别结果
```

### 变量追踪
```markdown
1. 工作流运行日志中定位变量聚合器节点：
   - 变量聚合器(1750677970313)
   - 变量聚合器4(1750994093036)
2. 展开查看多源内容整合结果
```
